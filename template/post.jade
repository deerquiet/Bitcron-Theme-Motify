extends base

block title
	title= post.title + " - " + site.title

block content
	.posts.single
		- var formats = post.metadata.format
		- var cates = post.category.title
		- var meta = "post hentry "+ cates + " format-"+ formats
		if formats == "photo"
			- var metapath = "/_photos/"+ post.metadata.path
			- var metawidth = post.metadata.width or 180
			article(class=meta)
				header
					time.date
						i.fa
						span= post.date.format('%d日 %m月，%Y')
					h1.entry-title= post.title
				.post-content= post.content
					+h.show('waterfall',path=metapath,width=metawidth)
		else if formats == "chat" or cates == "chat"
			article(class=meta)
				header: time.date
					i.fa
					span= post.date.format('%d日 %m月，%Y')
				.post-content
					img(src= site.site_avatar).avatar
                	post.content
		else
			article(class=meta)
				header
					time.date
						i.fa
						span= post.date.format('%d日 %m月，%Y')
					h1.entry-title= post.title
				.post-content= post.content

	.pager
				if posts.pre_one
					a.pre(href=posts.previous_one.url)= posts.previous_one.title
				else
					span.pre= '已是最新一篇'
					
				if posts.next_one
					a.next(href=posts.next_one.url)= posts.next_one.title
				else
					span.next= '已是最早一篇'

	section#comments
			+post.comments_as_html()
			
